{
    "contents" : "# server.R\n\nlibrary(quantmod)\nlibrary(stringr)\n#source(\"helpers.R\")\n#library(rvest)\nsource(\"sina_financial.R\")\n\nshinyServer(function(input, output) {\n  #stockID_pattern = \"\\\\d{6}\\\\.[sS][sSzZ]\"\n  stockID_pattern = \"\\\\d{6}\"\n  \n  dataInput <- reactive({\n    #setSymbolLookup(GZMT=list(name=input$symb,src='yahoo'))\n    #data <- getSymbols(\"GZMT\", \n    #                   from = input$dates[1],\n    #                   to = input$dates[2],\n    #                  auto.assign = FALSE)\n    data = getPeriodRestorationofRightPrice(input$dates[1],input$dates[2],input$symb)\n    return (data)\n  })\n  \n  output$plot <- renderPlot({\n    if(length(grep(stockID_pattern, str_trim(input$symb))) == 0)\n      return (NA)\n    #chartSeries(GZMT)\n    chartSeries(dataInput(), theme = chartTheme(\"white\"), \n                type = \"line\", log.scale = input$log, TA = NULL)\n  })\n  \n})\n\n\nsetSymbolLookup(GZMT=list(name=\"600030.ss\",src='yahoo'))\ndata <- getSymbols(\"GZMT\", \n                   from = \"2013-01-01\",\n                   to = as.character(Sys.Date()),\n                   auto.assign = FALSE)\n\n\n\n",
    "created" : 1450428034050.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3664021968",
    "id" : "3D253C3A",
    "lastKnownWriteTime" : 1450585361,
    "path" : "~/Documents/R_workspace/stock_web/server.R",
    "project_path" : "server.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}